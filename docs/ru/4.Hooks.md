Хуки - более сложная кастомизация
=================================

* [↰ назад к оглавлению документации](0.Index.md)
* [↰ назад к общей информации об AzaThread](../../../../)


---


1. [Общая информация](#1----)
   * [onLoad](#onload)
   * [onFork](#onfork)
   * [onShutdown](#onshutdown)
   * [onCleanup](#oncleanup)



#### 1 - Общая информация

Вы можете настраивать "поток" еще более гибко с помощью "хуков". Это несколько методов в AzaThread, которые вызываются в различных ситуациях. И вы можете переопределить их для выполнения какого либо специального функционала.

```php
class ExampleThread extends Thread
{
	function process()
	{
		// ...
	}

	protected function onLoad()
	{
		// ...
	}
}
```



###### onLoad

Этот хук вызывается в конструкторе после инициализации потока, но ДО ответвления дочернего процесса!


###### onFork

Хук вызывается в дочернем процессе сразу после ответвления от родительского. Используйте, если вам необходимо что либо инициализировать в дочернем процессе и сделать это только один раз.

Также вызывается в синхронном режиме совместимости в конце инициализации!


###### onShutdown

Вызывается только в дочернем процессе перед завершением работы. Используйте, если вам необходимо что выполнить перед завершением дочернего процесса.


###### onCleanup

Вызывается в дочернем и в родительском процесе при очистке ресурсов. Используйте, если вам необходимо что либо подчистить/закрыть.
